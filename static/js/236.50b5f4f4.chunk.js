"use strict";(self.webpackChunkfastdish=self.webpackChunkfastdish||[]).push([[236],{7236:function(e,a,t){t.r(a),t.d(a,{default:function(){return D}});var i=t(5861),r=t(1413),s=t(9439),n=t(7757),c=t.n(n),l=t(2791),u=t(3504),d=t(9062),o=t(2813),f=t(9421),_=t(6106),x=t(914),h=t(4564),v=t(1992),p=t(3099),k=t(7734),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M923 283.6a260.04 260.04 0 00-56.9-82.8 264.4 264.4 0 00-84-55.5A265.34 265.34 0 00679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 00-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"}}]},name:"heart",theme:"outlined"},j=t(4291),C=function(e,a){return l.createElement(j.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:a,icon:m}))};C.displayName="HeartOutlined";var Z=l.forwardRef(C),z=t(2622),g=t(3108),w=t(7834),N=t(1872),V=t(7752),b=t(1623),y=t(1694),U=t.n(y),S="VisualizeCard_header__lFe40",A="VisualizeCard_card__X1YKd",M="VisualizeCard_card__title__KyIfg",E="VisualizeCard_card__img__d2qtF",F="VisualizeCard_card__avatar__60G2-",J="VisualizeCard_card__footer__kbeF1",H="VisualizeCard_card__likes__07+ZA",I="VisualizeCard_title__EpEx9",K="VisualizeCard_icon__Rwtcb",L="VisualizeCard_iconLike__4jTbL",R="VisualizeCard_likesCounter__SzCwi",T="VisualizeCard_link__create__duHxk",q=t(184),B=o.Z.Title,D=function(){var e=(0,l.useState)([]),a=(0,s.Z)(e,2),t=a[0],n=a[1],o=(0,l.useState)(!1),m=(0,s.Z)(o,2),j=m[0],C=m[1],y=(0,l.useState)(!0),D=(0,s.Z)(y,2),G=D[0],O=D[1],X=(0,w.a)().userAuth,Y=(0,N.Z)("(max-width: 992px)");(0,l.useEffect)((function(){var e=(0,d.cf)((0,d.hJ)(g.U,"posts"),(function(e){var a=e.docs.map((function(e){return(0,r.Z)({id:e.id},e.data())}));n(a),O(!1)}));return function(){return e()}}),[]);var P=function(){var e=(0,i.Z)(c().mark((function e(a){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,d.JU)(g.U,"posts",a),e.next=3,(0,d.oe)(t);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Q=function(){var e=(0,i.Z)(c().mark((function e(a){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!X){e.next=6;break}return t=(0,d.JU)(g.U,"posts",a),e.next=4,(0,d.i3)(g.U,function(){var e=(0,i.Z)(c().mark((function e(a){var i,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.get(t);case 2:if((i=e.sent).exists()){e.next=5;break}throw"Document does not exist!";case 5:i.data().liked.length||(r=i.data().likes+1,a.update(t,{liked:(0,d.vr)(X.uid),likes:r})),i.data().liked.filter((function(e){if(e!==X.uid){var r=i.data().likes+1;a.update(t,{liked:(0,d.vr)(X.uid),likes:r})}else{var s=i.data().likes-1;a.update(t,{liked:(0,d.Ab)(X.uid),likes:s})}}));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}());case 4:e.next=7;break;case 6:C(!0);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return G?(0,q.jsx)(b.Z,{}):(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)("header",{className:S,children:[(0,q.jsx)(B,{className:I,level:1,children:"Visualize"}),Y&&(0,q.jsx)(u.rU,{className:T,to:"/visualize/create",children:"Create a visualization"})]}),!t.length&&(0,q.jsx)(f.Z,{description:"No visualized cards"}),(0,q.jsx)(_.Z,{gutter:[16,16],children:null===t||void 0===t?void 0:t.map((function(e){return(0,q.jsx)(x.Z,{xs:24,sm:12,lg:8,xxl:6,children:(0,q.jsxs)(h.Z,{className:A,cover:(0,q.jsx)(v.Z,{alt:e.title,src:e.url,className:E}),children:[(0,q.jsxs)(p.Z,{size:"middle",children:[(0,q.jsx)(k.C,{src:e.author.avatar,className:F}),(0,q.jsxs)("div",{children:[(0,q.jsx)(B,{level:2,className:M,children:e.title}),(0,q.jsx)("p",{children:e.author.name})]})]}),(0,q.jsxs)("div",{className:J,children:[(null===X||void 0===X?void 0:X.uid)===e.author.id&&(0,q.jsx)(z.Z,{className:K,onClick:function(){return P(e.id)}}),(0,q.jsxs)("div",{className:H,children:[(0,q.jsx)(Z,{className:U()(K,L),onClick:function(){return Q(e.id)}}),(0,q.jsx)("span",{className:R,children:e.likes})]})]})]})},e.id)}))}),(0,q.jsx)(V.Z,{isModalSignUp:j,setIsModalSignUp:C,text:"After logging in, you will be able to mark your favorite posts",title:"Mark your favorites in your account"})]})}}}]);
//# sourceMappingURL=236.50b5f4f4.chunk.js.map